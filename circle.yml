general:
  branches:
    ignore:
      - gh-pages
    only:
      - master
      - /feature-.*/
      - /chore-.*/

machine:
  node:
    version: 0.10.33

dependencies:
  cache_directories:
    - node_modules
    - typings
  pre:
    - npm install -g gulp
    - export DISPLAY=:99.0
  override:
    - npm install:
        timeout: 1200

test:
  override:
    - gulp typings
    - gulp ts --env=TEST
    - gulp test